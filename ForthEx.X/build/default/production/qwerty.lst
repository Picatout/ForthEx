MPLAB XC16 ASSEMBLY Listing:  qwerty.s 			page 1


   1              	;****************************************************************************
   2              	; Copyright 2015, Jacques Deschênes
   3              	; This file is part of ForthEx.
   4              	;
   5              	;     ForthEx is free software: you can redistribute it and/or modify
   6              	;     it under the terms of the GNU General Public License as published by
   7              	;     the Free Software Foundation, either version 3 of the License, or
   8              	;     (at your option) any later version.
   9              	;
  10              	;     ForthEx is distributed in the hope that it will be useful,
  11              	;     but WITHOUT ANY WARRANTY; without even the implied warranty of
  12              	;     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  13              	;     GNU General Public License for more details.
  14              	;
  15              	;     You should have received a copy of the GNU General Public License
  16              	;     along with ForthEx.  If not, see <http://www.gnu.org/licenses/>.
  17              	;
  18              	;****************************************************************************
  19              	
  20              	; NOM: qwerty.inc
  21              	; DESCRIPTION: table de transcription scancode vers clavier QWERTY
  22              	    
  23              	.include "ps2.inc"
   1              	;****************************************************************************
   2              	; Copyright 2015, Jacques Deschênes
   3              	; This file is part of ForthEx.
   4              	;
   5              	;     ForthEx is free software: you can redistribute it and/or modify
   6              	;     it under the terms of the GNU General Public License as published by
   7              	;     the Free Software Foundation, either version 3 of the License, or
   8              	;     (at your option) any later version.
   9              	;
  10              	;     ForthEx is distributed in the hope that it will be useful,
  11              	;     but WITHOUT ANY WARRANTY; without even the implied warranty of
  12              	;     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  13              	;     GNU General Public License for more details.
  14              	;
  15              	;     You should have received a copy of the GNU General Public License
  16              	;     along with ForthEx.  If not, see <http://www.gnu.org/licenses/>.
  17              	;
  18              	;****************************************************************************
  19              	
  20              	;NOM: ps2.inc
  21              	;DESCRIPTION: constante reliée au clavier PS/2
  22              	;DATE: 2015-09-28
  23              	.ifndef PS2_INC
  24              	.equ PS2_INC, 1
  25              	
  26              	 ;codes touches contrôles
  27              	.equ SC_KREL,  0xF0
  28              	.equ SC_XKEY,  0xE0
  29              	.equ L_SHIFT,  0x12
  30              	.equ R_SHIFT,  0x59
  31              	.equ L_CTRL,   0x14
  32              	.equ L_ALT,    0x11
  33              	.equ ENTER,    0x5A
  34              	.equ CAPS,     0x58
MPLAB XC16 ASSEMBLY Listing:  qwerty.s 			page 2


  35              	.equ SCROLL,   0x7E
  36              	.equ NUM,      0x77
  37              	.equ ESC,      0x76
  38              	.equ F1,       0x05
  39              	.equ F2,       0x06
  40              	.equ F3,       0x04
  41              	.equ F4,       0x0C
  42              	.equ F5,       0x03
  43              	.equ F6,       0x0B
  44              	.equ F7,       0x83 
  45              	.equ F8,       0x0A
  46              	.equ F9,       0x01
  47              	.equ F10,      0x09
  48              	.equ F11,      0x78
  49              	.equ F12,      0x07
  50              	 ; touches clavier numérique
  51              	.equ KP0,      0x70
  52              	.equ KP1,      0x69
  53              	.equ KP2,      0x72
  54              	.equ KP3,      0x7A
  55              	.equ KP4,      0x6B
  56              	.equ KP5,      0x73
  57              	.equ KP6,      0x74
  58              	.equ KP7,      0x6C
  59              	.equ KP8,      0x75
  60              	.equ KP9,      0x7D
  61              	.equ KPDOT,    0x71
  62              	.equ KPPLUS,   0x79
  63              	.equ KPMINUS,  0x7B
  64              	.equ KPSTAR,   0x7C
  65              	; code étendus (précédé de 0xE0) 
  66              	.equ R_CTRL,   0x14
  67              	.equ L_GUI,    0x1f
  68              	.equ R_GUI,    0x27
  69              	.equ R_ALT,    0x11
  70              	.equ APPS,     0x2f 
  71              	.equ INSERT,   0x70
  72              	.equ HOME,     0x6C
  73              	.equ PGUP,     0x7D
  74              	.equ DEL,      0x71
  75              	.equ END,      0x69
  76              	.equ PGDN,     0x7A
  77              	.equ UP,       0x75
  78              	.equ DOWN,     0x72
  79              	.equ LEFT,     0x6B
  80              	.equ RIGHT,    0x74
  81              	.equ KPSLH,    0x4A
  82              	.equ KPENT,    0x5A 
  83              	 
  84              	;indicateurs booléens dans key_state
  85              	.equ F_SHIFT, 0 ; touche majuscule enfoncée
  86              	.equ F_CTRL, 1  ; touche ctrl enfoncée
  87              	.equ F_ALT, 2   ; touche alt enfoncée
  88              	.equ F_CAPS, 3  ; FixMaj actif
  89              	.equ F_NUM,  4  ; clavier numérique actif
  90              	.equ F_XKEY, 5 ; touche étendue
  91              	.equ F_KREL, 6 ; relâchement touche
MPLAB XC16 ASSEMBLY Listing:  qwerty.s 			page 3


  92              	; grandeur file interface PS/2 
  93              	.equ PS2_QUEUE_SIZE, 32
  94              	.endif
  95              	.end
